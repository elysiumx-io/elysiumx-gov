import{r as t,cl as Ea,dv as Ha,dw as Ba,dc as Fa,db as Va,dx as Na,dy as La,dz as Ta,cS as F,dA as va,cL as ja,dB as Aa,bK as ga,dC as Ca,cK as $,cU as ke,dg as ba,dD as qr,cN as nr,dE as Wa,de as ye,dh as qa,dF as Ua,dG as fa,dH as _a,cT as Ur,dI as da,cR as Ia,dJ as Ja,dK as xa}from"./index-gOj9jnM2.js";var ha=t.createContext(null);function Ga(e){var n=e.children,r=e.onBatchResize,a=t.useRef(0),o=t.useRef([]),u=t.useContext(ha),s=t.useCallback(function(f,d,h){a.current+=1;var D=a.current;o.current.push({size:f,element:d,data:h}),Promise.resolve().then(function(){D===a.current&&(r?.(o.current),o.current=[])}),u?.(f,d,h)},[r,u]);return t.createElement(ha.Provider,{value:s},n)}var je=new Map;function Ka(e){e.forEach(function(n){var r,a=n.target;(r=je.get(a))===null||r===void 0||r.forEach(function(o){return o(a)})})}var $a=new Ea(Ka);function Qa(e,n){je.has(e)||(je.set(e,new Set),$a.observe(e)),je.get(e).add(n)}function Za(e,n){je.has(e)&&(je.get(e).delete(n),je.get(e).size||($a.unobserve(e),je.delete(e)))}var Xa=function(e){Ha(r,e);var n=Ba(r);function r(){return Fa(this,r),n.apply(this,arguments)}return Va(r,[{key:"render",value:function(){return this.props.children}}]),r}(t.Component);function Ya(e,n){var r=e.children,a=e.disabled,o=t.useRef(null),u=t.useRef(null),s=t.useContext(ha),f=typeof r=="function",d=f?r(o):r,h=t.useRef({width:-1,height:-1,offsetWidth:-1,offsetHeight:-1}),D=!f&&t.isValidElement(d)&&Na(d),m=D?La(d):null,b=Ta(m,o),v=function(){var y;return va(o.current)||(o.current&&ja(o.current)==="object"?va((y=o.current)===null||y===void 0?void 0:y.nativeElement):null)||va(u.current)};t.useImperativeHandle(n,function(){return v()});var P=t.useRef(e);P.current=e;var z=t.useCallback(function(g){var y=P.current,T=y.onResize,M=y.data,W=g.getBoundingClientRect(),H=W.width,c=W.height,J=g.offsetWidth,j=g.offsetHeight,ce=Math.floor(H),ne=Math.floor(c);if(h.current.width!==ce||h.current.height!==ne||h.current.offsetWidth!==J||h.current.offsetHeight!==j){var fe={width:ce,height:ne,offsetWidth:J,offsetHeight:j};h.current=fe;var oe=J===Math.round(H)?H:J,ie=j===Math.round(c)?c:j,G=F(F({},fe),{},{offsetWidth:oe,offsetHeight:ie});s?.(G,g,M),T&&Promise.resolve().then(function(){T(G,g)})}},[]);return t.useEffect(function(){var g=v();return g&&!a&&Qa(g,z),function(){return Za(g,z)}},[o.current,a]),t.createElement(Xa,{ref:u},D?t.cloneElement(d,{ref:b}):d)}var Oa=t.forwardRef(Ya),pa="rc-observer-key";function et(e,n){var r=e.children,a=typeof r=="function"?[r]:Aa(r);return a.map(function(o,u){var s=o?.key||"".concat(pa,"-").concat(u);return t.createElement(Oa,ga({},e,{key:s,ref:u===0?n:void 0}),o)})}var ya=t.forwardRef(et);ya.Collection=Ga;function ca(e){return e!==void 0}function yt(e,n){var r=n||{},a=r.defaultValue,o=r.value,u=r.onChange,s=r.postState,f=Ca(function(){return ca(o)?o:ca(a)?typeof a=="function"?a():a:typeof e=="function"?e():e}),d=$(f,2),h=d[0],D=d[1],m=o!==void 0?o:h,b=s?s(m):m,v=ke(u),P=Ca([m]),z=$(P,2),g=z[0],y=z[1];ba(function(){var M=g[0];h!==M&&v(h,M)},[g]),ba(function(){ca(o)||D(o)},[o]);var T=ke(function(M,W){D(M,W),y([m],W)});return[b,T]}function wt(e,n){return qr.reduce((r,a)=>{const o=e[`${a}1`],u=e[`${a}3`],s=e[`${a}6`],f=e[`${a}7`];return Object.assign(Object.assign({},r),n(a,{lightColor:o,lightBorderColor:u,darkColor:s,textColor:f}))},{})}const rt=function(){if(typeof navigator>"u"||typeof window>"u")return!1;var e=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(e?.substr(0,4))};function at(e){var n=e.prefixCls,r=e.align,a=e.arrow,o=e.arrowPos,u=a||{},s=u.className,f=u.content,d=o.x,h=d===void 0?0:d,D=o.y,m=D===void 0?0:D,b=t.useRef();if(!r||!r.points)return null;var v={position:"absolute"};if(r.autoArrow!==!1){var P=r.points[0],z=r.points[1],g=P[0],y=P[1],T=z[0],M=z[1];g===T||!["t","b"].includes(g)?v.top=m:g==="t"?v.top=0:v.bottom=0,y===M||!["l","r"].includes(y)?v.left=h:y==="l"?v.left=0:v.right=0}return t.createElement("div",{ref:b,className:nr("".concat(n,"-arrow"),s),style:v},f)}function tt(e){var n=e.prefixCls,r=e.open,a=e.zIndex,o=e.mask,u=e.motion;return o?t.createElement(Wa,ga({},u,{motionAppear:!0,visible:r,removeOnLeave:!0}),function(s){var f=s.className;return t.createElement("div",{style:{zIndex:a},className:nr("".concat(n,"-mask"),f)})}):null}var nt=t.memo(function(e){var n=e.children;return n},function(e,n){return n.cache}),ot=t.forwardRef(function(e,n){var r=e.popup,a=e.className,o=e.prefixCls,u=e.style,s=e.target,f=e.onVisibleChanged,d=e.open,h=e.keepDom,D=e.fresh,m=e.onClick,b=e.mask,v=e.arrow,P=e.arrowPos,z=e.align,g=e.motion,y=e.maskMotion,T=e.forceRender,M=e.getPopupContainer,W=e.autoDestroy,H=e.portal,c=e.zIndex,J=e.onMouseEnter,j=e.onMouseLeave,ce=e.onPointerEnter,ne=e.onPointerDownCapture,fe=e.ready,oe=e.offsetX,ie=e.offsetY,G=e.offsetR,we=e.offsetB,E=e.onAlign,A=e.onPrepare,w=e.stretch,ue=e.targetWidth,K=e.targetHeight,q=typeof r=="function"?r():r,C=d||h,De=M?.length>0,or=t.useState(!M||!De),Re=$(or,2),Y=Re[0],ir=Re[1];if(ye(function(){!Y&&De&&s&&ir(!0)},[Y,De,s]),!Y)return null;var de="auto",Q={left:"-1000vw",top:"-1000vh",right:de,bottom:de};if(fe||!d){var Ae,qe=z.points,ze=z.dynamicInset||((Ae=z._experimental)===null||Ae===void 0?void 0:Ae.dynamicInset),he=ze&&qe[0][1]==="r",O=ze&&qe[0][0]==="b";he?(Q.right=G,Q.left=de):(Q.left=oe,Q.right=de),O?(Q.bottom=we,Q.top=de):(Q.top=ie,Q.bottom=de)}var U={};return w&&(w.includes("height")&&K?U.height=K:w.includes("minHeight")&&K&&(U.minHeight=K),w.includes("width")&&ue?U.width=ue:w.includes("minWidth")&&ue&&(U.minWidth=ue)),d||(U.pointerEvents="none"),t.createElement(H,{open:T||C,getContainer:M&&function(){return M(s)},autoDestroy:W},t.createElement(tt,{prefixCls:o,open:d,zIndex:c,mask:b,motion:y}),t.createElement(ya,{onResize:E,disabled:!d},function(Ce){return t.createElement(Wa,ga({motionAppear:!0,motionEnter:!0,motionLeave:!0,removeOnLeave:!1,forceRender:T,leavedClassName:"".concat(o,"-hidden")},g,{onAppearPrepare:A,onEnterPrepare:A,visible:d,onVisibleChanged:function(Le){var Z;g==null||(Z=g.onVisibleChanged)===null||Z===void 0||Z.call(g,Le),f(Le)}}),function(Ne,Le){var Z=Ne.className,Ue=Ne.style,p=nr(o,Z,a);return t.createElement("div",{ref:qa(Ce,n,Le),className:p,style:F(F(F(F({"--arrow-x":"".concat(P.x||0,"px"),"--arrow-y":"".concat(P.y||0,"px")},Q),U),Ue),{},{boxSizing:"border-box",zIndex:c},u),onMouseEnter:J,onMouseLeave:j,onPointerEnter:ce,onClick:m,onPointerDownCapture:ne},v&&t.createElement(at,{prefixCls:o,arrow:v,arrowPos:P,align:z}),t.createElement(nt,{cache:!d&&!D},q))})}))}),it=t.forwardRef(function(e,n){var r=e.children,a=e.getTriggerDOMNode,o=Na(r),u=t.useCallback(function(f){Ua(n,a?a(f):f)},[a]),s=Ta(u,La(r));return o?t.cloneElement(r,{ref:s}):r}),Ma=t.createContext(null);function Pa(e){return e?Array.isArray(e)?e:[e]:[]}function ut(e,n,r,a){return t.useMemo(function(){var o=Pa(r??n),u=Pa(a??n),s=new Set(o),f=new Set(u);return e&&(s.has("hover")&&(s.delete("hover"),s.add("click")),f.has("hover")&&(f.delete("hover"),f.add("click"))),[s,f]},[e,n,r,a])}function lt(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0;return r?e[0]===n[0]:e[0]===n[0]&&e[1]===n[1]}function st(e,n,r,a){for(var o=r.points,u=Object.keys(e),s=0;s<u.length;s+=1){var f,d=u[s];if(lt((f=e[d])===null||f===void 0?void 0:f.points,o,a))return"".concat(n,"-placement-").concat(d)}return""}function Sa(e,n,r,a){return n||(r?{motionName:"".concat(e,"-").concat(r)}:a?{motionName:a}:null)}function wr(e){return e.ownerDocument.defaultView}function ma(e){for(var n=[],r=e?.parentElement,a=["hidden","scroll","clip","auto"];r;){var o=wr(r).getComputedStyle(r),u=o.overflowX,s=o.overflowY,f=o.overflow;[u,s,f].some(function(d){return a.includes(d)})&&n.push(r),r=r.parentElement}return n}function yr(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return Number.isNaN(e)?n:e}function gr(e){return yr(parseFloat(e),0)}function ka(e,n){var r=F({},e);return(n||[]).forEach(function(a){if(!(a instanceof HTMLBodyElement||a instanceof HTMLHtmlElement)){var o=wr(a).getComputedStyle(a),u=o.overflow,s=o.overflowClipMargin,f=o.borderTopWidth,d=o.borderBottomWidth,h=o.borderLeftWidth,D=o.borderRightWidth,m=a.getBoundingClientRect(),b=a.offsetHeight,v=a.clientHeight,P=a.offsetWidth,z=a.clientWidth,g=gr(f),y=gr(d),T=gr(h),M=gr(D),W=yr(Math.round(m.width/P*1e3)/1e3),H=yr(Math.round(m.height/b*1e3)/1e3),c=(P-z-T-M)*W,J=(b-v-g-y)*H,j=g*H,ce=y*H,ne=T*W,fe=M*W,oe=0,ie=0;if(u==="clip"){var G=gr(s);oe=G*W,ie=G*H}var we=m.x+ne-oe,E=m.y+j-ie,A=we+m.width+2*oe-ne-fe-c,w=E+m.height+2*ie-j-ce-J;r.left=Math.max(r.left,we),r.top=Math.max(r.top,E),r.right=Math.min(r.right,A),r.bottom=Math.min(r.bottom,w)}}),r}function Da(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r="".concat(n),a=r.match(/^(.*)\%$/);return a?e*(parseFloat(a[1])/100):parseFloat(r)}function Ra(e,n){var r=n||[],a=$(r,2),o=a[0],u=a[1];return[Da(e.width,o),Da(e.height,u)]}function za(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return[e[0],e[1]]}function tr(e,n){var r=n[0],a=n[1],o,u;return r==="t"?u=e.y:r==="b"?u=e.y+e.height:u=e.y+e.height/2,a==="l"?o=e.x:a==="r"?o=e.x+e.width:o=e.x+e.width/2,{x:o,y:u}}function Ve(e,n){var r={t:"b",b:"t",l:"r",r:"l"};return e.map(function(a,o){return o===n?r[a]||"c":a}).join("")}function vt(e,n,r,a,o,u,s){var f=t.useState({ready:!1,offsetX:0,offsetY:0,offsetR:0,offsetB:0,arrowX:0,arrowY:0,scaleX:1,scaleY:1,align:o[a]||{}}),d=$(f,2),h=d[0],D=d[1],m=t.useRef(0),b=t.useMemo(function(){return n?ma(n):[]},[n]),v=t.useRef({}),P=function(){v.current={}};e||P();var z=ke(function(){if(n&&r&&e){let te=function(hr,Se){var Fe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ur,mr=C.x+hr,Vr=C.y+Se,ia=mr+O,ua=Vr+he,la=Math.max(mr,Fe.left),i=Math.max(Vr,Fe.top),l=Math.min(ia,Fe.right),R=Math.min(ua,Fe.bottom);return Math.max(0,(l-la)*(R-i))},ar=function(){xe=C.y+N,$e=xe+he,Ke=C.x+k,Pe=Ke+O};var T,M,W,H,c=n,J=c.ownerDocument,j=wr(c),ce=j.getComputedStyle(c),ne=ce.position,fe=c.style.left,oe=c.style.top,ie=c.style.right,G=c.style.bottom,we=c.style.overflow,E=F(F({},o[a]),u),A=J.createElement("div");(T=c.parentElement)===null||T===void 0||T.appendChild(A),A.style.left="".concat(c.offsetLeft,"px"),A.style.top="".concat(c.offsetTop,"px"),A.style.position=ne,A.style.height="".concat(c.offsetHeight,"px"),A.style.width="".concat(c.offsetWidth,"px"),c.style.left="0",c.style.top="0",c.style.right="auto",c.style.bottom="auto",c.style.overflow="hidden";var w;if(Array.isArray(r))w={x:r[0],y:r[1],width:0,height:0};else{var ue,K,q=r.getBoundingClientRect();q.x=(ue=q.x)!==null&&ue!==void 0?ue:q.left,q.y=(K=q.y)!==null&&K!==void 0?K:q.top,w={x:q.x,y:q.y,width:q.width,height:q.height}}var C=c.getBoundingClientRect(),De=j.getComputedStyle(c),or=De.height,Re=De.width;C.x=(M=C.x)!==null&&M!==void 0?M:C.left,C.y=(W=C.y)!==null&&W!==void 0?W:C.top;var Y=J.documentElement,ir=Y.clientWidth,de=Y.clientHeight,Q=Y.scrollWidth,Ae=Y.scrollHeight,qe=Y.scrollTop,ze=Y.scrollLeft,he=C.height,O=C.width,U=w.height,Ce=w.width,Ne={left:0,top:0,right:ir,bottom:de},Le={left:-ze,top:-qe,right:Q-ze,bottom:Ae-qe},Z=E.htmlRegion,Ue="visible",p="visibleFirst";Z!=="scroll"&&Z!==p&&(Z=Ue);var _e=Z===p,_r=ka(Le,b),S=ka(Ne,b),ur=Z===Ue?S:_r,B=_e?S:ur;c.style.left="auto",c.style.top="auto",c.style.right="0",c.style.bottom="0";var Cr=c.getBoundingClientRect();c.style.left=fe,c.style.top=oe,c.style.right=ie,c.style.bottom=G,c.style.overflow=we,(H=c.parentElement)===null||H===void 0||H.removeChild(A);var be=yr(Math.round(O/parseFloat(Re)*1e3)/1e3),Te=yr(Math.round(he/parseFloat(or)*1e3)/1e3);if(be===0||Te===0||fa(r)&&!_a(r))return;var Ir=E.offset,br=E.targetOffset,me=Ra(C,Ir),Mr=$(me,2),ee=Mr[0],le=Mr[1],pe=Ra(w,br),X=$(pe,2),We=X[0],Jr=X[1];w.x-=We,w.y-=Jr;var Gr=E.points||[],Pr=$(Gr,2),Kr=Pr[0],Sr=Pr[1],Me=za(Sr),_=za(Kr),V=tr(w,Me),kr=tr(C,_),re=F({},E),k=V.x-kr.x+ee,N=V.y-kr.y+le,se=te(k,N),Ie=te(k,N,S),ae=tr(w,["t","l"]),Dr=tr(C,["t","l"]),lr=tr(w,["b","r"]),Je=tr(C,["b","r"]),Ge=E.overflow||{},Qr=Ge.adjustX,Rr=Ge.adjustY,er=Ge.shiftX,sr=Ge.shiftY,zr=function(Se){return typeof Se=="boolean"?Se:Se>=0},xe,$e,Ke,Pe;ar();var Nr=zr(Rr),I=_[0]===Me[0];if(Nr&&_[0]==="t"&&($e>B.bottom||v.current.bt)){var Qe=N;I?Qe-=he-U:Qe=ae.y-Je.y-le;var Lr=te(k,Qe),Zr=te(k,Qe,S);Lr>se||Lr===se&&(!_e||Zr>=Ie)?(v.current.bt=!0,N=Qe,le=-le,re.points=[Ve(_,0),Ve(Me,0)]):v.current.bt=!1}if(Nr&&_[0]==="b"&&(xe<B.top||v.current.tb)){var Ze=N;I?Ze+=he-U:Ze=lr.y-Dr.y-le;var Tr=te(k,Ze),Xr=te(k,Ze,S);Tr>se||Tr===se&&(!_e||Xr>=Ie)?(v.current.tb=!0,N=Ze,le=-le,re.points=[Ve(_,0),Ve(Me,0)]):v.current.tb=!1}var Wr=zr(Qr),xr=_[1]===Me[1];if(Wr&&_[1]==="l"&&(Pe>B.right||v.current.rl)){var Xe=k;xr?Xe-=O-Ce:Xe=ae.x-Je.x-ee;var Ye=te(Xe,N),vr=te(Xe,N,S);Ye>se||Ye===se&&(!_e||vr>=Ie)?(v.current.rl=!0,k=Xe,ee=-ee,re.points=[Ve(_,1),Ve(Me,1)]):v.current.rl=!1}if(Wr&&_[1]==="r"&&(Ke<B.left||v.current.lr)){var Oe=k;xr?Oe+=O-Ce:Oe=lr.x-Dr.x-ee;var cr=te(Oe,N),rr=te(Oe,N,S);cr>se||cr===se&&(!_e||rr>=Ie)?(v.current.lr=!0,k=Oe,ee=-ee,re.points=[Ve(_,1),Ve(Me,1)]):v.current.lr=!1}ar();var ve=er===!0?0:er;typeof ve=="number"&&(Ke<S.left&&(k-=Ke-S.left-ee,w.x+Ce<S.left+ve&&(k+=w.x-S.left+Ce-ve)),Pe>S.right&&(k-=Pe-S.right-ee,w.x>S.right-ve&&(k+=w.x-S.right+ve)));var Ee=sr===!0?0:sr;typeof Ee=="number"&&(xe<S.top&&(N-=xe-S.top-le,w.y+U<S.top+Ee&&(N+=w.y-S.top+U-Ee)),$e>S.bottom&&(N-=$e-S.bottom-le,w.y>S.bottom-Ee&&(N+=w.y-S.bottom+Ee)));var He=C.x+k,Be=He+O,fr=C.y+N,Yr=fr+he,$r=w.x,Er=$r+Ce,Hr=w.y,Or=Hr+U,pr=Math.max(He,$r),Br=Math.min(Be,Er),ea=(pr+Br)/2,ra=ea-He,Fr=Math.max(fr,Hr),aa=Math.min(Yr,Or),ta=(Fr+aa)/2,na=ta-fr;s?.(n,re);var ge=Cr.right-C.x-(k+C.width),dr=Cr.bottom-C.y-(N+C.height);be===1&&(k=Math.round(k),ge=Math.round(ge)),Te===1&&(N=Math.round(N),dr=Math.round(dr));var oa={ready:!0,offsetX:k/be,offsetY:N/Te,offsetR:ge/be,offsetB:dr/Te,arrowX:ra/be,arrowY:na/Te,scaleX:be,scaleY:Te,align:re};D(oa)}}),g=function(){m.current+=1;var M=m.current;Promise.resolve().then(function(){m.current===M&&z()})},y=function(){D(function(M){return F(F({},M),{},{ready:!1})})};return ye(y,[a]),ye(function(){e||y()},[e]),[h.ready,h.offsetX,h.offsetY,h.offsetR,h.offsetB,h.arrowX,h.arrowY,h.scaleX,h.scaleY,h.align,g]}function ct(e,n,r,a,o){ye(function(){if(e&&n&&r){let m=function(){a(),o()};var u=n,s=r,f=ma(u),d=ma(s),h=wr(s),D=new Set([h].concat(Ur(f),Ur(d)));return D.forEach(function(b){b.addEventListener("scroll",m,{passive:!0})}),h.addEventListener("resize",m,{passive:!0}),a(),function(){D.forEach(function(b){b.removeEventListener("scroll",m),h.removeEventListener("resize",m)})}}},[e,n,r])}function ft(e,n,r,a,o,u,s,f){var d=t.useRef(e);d.current=e;var h=t.useRef(!1);t.useEffect(function(){if(n&&a&&(!o||u)){var m=function(){h.current=!1},b=function(g){var y;d.current&&!s(((y=g.composedPath)===null||y===void 0||(y=y.call(g))===null||y===void 0?void 0:y[0])||g.target)&&!h.current&&f(!1)},v=wr(a);v.addEventListener("pointerdown",m,!0),v.addEventListener("mousedown",b,!0),v.addEventListener("contextmenu",b,!0);var P=da(r);return P&&(P.addEventListener("mousedown",b,!0),P.addEventListener("contextmenu",b,!0)),function(){v.removeEventListener("pointerdown",m,!0),v.removeEventListener("mousedown",b,!0),v.removeEventListener("contextmenu",b,!0),P&&(P.removeEventListener("mousedown",b,!0),P.removeEventListener("contextmenu",b,!0))}}},[n,r,a,o,u]);function D(){h.current=!0}return D}var dt=["prefixCls","children","action","showAction","hideAction","popupVisible","defaultPopupVisible","onPopupVisibleChange","afterPopupVisibleChange","mouseEnterDelay","mouseLeaveDelay","focusDelay","blurDelay","mask","maskClosable","getPopupContainer","forceRender","autoDestroy","destroyPopupOnHide","popup","popupClassName","popupStyle","popupPlacement","builtinPlacements","popupAlign","zIndex","stretch","getPopupClassNameFromAlign","fresh","alignPoint","onPopupClick","onPopupAlign","arrow","popupMotion","maskMotion","popupTransitionName","popupAnimation","maskTransitionName","maskAnimation","className","getTriggerDOMNode"];function ht(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:xa,n=t.forwardRef(function(r,a){var o=r.prefixCls,u=o===void 0?"rc-trigger-popup":o,s=r.children,f=r.action,d=f===void 0?"hover":f,h=r.showAction,D=r.hideAction,m=r.popupVisible,b=r.defaultPopupVisible,v=r.onPopupVisibleChange,P=r.afterPopupVisibleChange,z=r.mouseEnterDelay,g=r.mouseLeaveDelay,y=g===void 0?.1:g,T=r.focusDelay,M=r.blurDelay,W=r.mask,H=r.maskClosable,c=H===void 0?!0:H,J=r.getPopupContainer,j=r.forceRender,ce=r.autoDestroy,ne=r.destroyPopupOnHide,fe=r.popup,oe=r.popupClassName,ie=r.popupStyle,G=r.popupPlacement,we=r.builtinPlacements,E=we===void 0?{}:we,A=r.popupAlign,w=r.zIndex,ue=r.stretch,K=r.getPopupClassNameFromAlign,q=r.fresh,C=r.alignPoint,De=r.onPopupClick,or=r.onPopupAlign,Re=r.arrow,Y=r.popupMotion,ir=r.maskMotion,de=r.popupTransitionName,Q=r.popupAnimation,Ae=r.maskTransitionName,qe=r.maskAnimation,ze=r.className,he=r.getTriggerDOMNode,O=Ia(r,dt),U=ce||ne||!1,Ce=t.useState(!1),Ne=$(Ce,2),Le=Ne[0],Z=Ne[1];ye(function(){Z(rt())},[]);var Ue=t.useRef({}),p=t.useContext(Ma),_e=t.useMemo(function(){return{registerSubPopup:function(l,R){Ue.current[l]=R,p?.registerSubPopup(l,R)}}},[p]),_r=Ja(),S=t.useState(null),ur=$(S,2),B=ur[0],Cr=ur[1],be=t.useRef(null),Te=ke(function(i){be.current=i,fa(i)&&B!==i&&Cr(i),p?.registerSubPopup(_r,i)}),Ir=t.useState(null),br=$(Ir,2),me=br[0],Mr=br[1],ee=t.useRef(null),le=ke(function(i){fa(i)&&me!==i&&(Mr(i),ee.current=i)}),pe=t.Children.only(s),X=pe?.props||{},We={},Jr=ke(function(i){var l,R,x=me;return x?.contains(i)||((l=da(x))===null||l===void 0?void 0:l.host)===i||i===x||B?.contains(i)||((R=da(B))===null||R===void 0?void 0:R.host)===i||i===B||Object.values(Ue.current).some(function(L){return L?.contains(i)||i===L})}),Gr=Sa(u,Y,Q,de),Pr=Sa(u,ir,qe,Ae),Kr=t.useState(b||!1),Sr=$(Kr,2),Me=Sr[0],_=Sr[1],V=m??Me,kr=ke(function(i){m===void 0&&_(i)});ye(function(){_(m||!1)},[m]);var re=t.useRef(V);re.current=V;var k=t.useRef([]);k.current=[];var N=ke(function(i){var l;kr(i),((l=k.current[k.current.length-1])!==null&&l!==void 0?l:V)!==i&&(k.current.push(i),v?.(i))}),se=t.useRef(),Ie=function(){clearTimeout(se.current)},ae=function(l){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;Ie(),R===0?N(l):se.current=setTimeout(function(){N(l)},R*1e3)};t.useEffect(function(){return Ie},[]);var Dr=t.useState(!1),lr=$(Dr,2),Je=lr[0],Ge=lr[1];ye(function(i){(!i||V)&&Ge(!0)},[V]);var Qr=t.useState(null),Rr=$(Qr,2),er=Rr[0],sr=Rr[1],zr=t.useState(null),xe=$(zr,2),$e=xe[0],Ke=xe[1],Pe=function(l){Ke([l.clientX,l.clientY])},Nr=vt(V,B,C&&$e!==null?$e:me,G,E,A,or),I=$(Nr,11),Qe=I[0],Lr=I[1],Zr=I[2],Ze=I[3],Tr=I[4],Xr=I[5],Wr=I[6],xr=I[7],Xe=I[8],Ye=I[9],vr=I[10],Oe=ut(Le,d,h,D),cr=$(Oe,2),rr=cr[0],ve=cr[1],Ee=rr.has("click"),He=ve.has("click")||ve.has("contextMenu"),Be=ke(function(){Je||vr()}),fr=function(){re.current&&C&&He&&ae(!1)};ct(V,me,B,Be,fr),ye(function(){Be()},[$e,G]),ye(function(){V&&!(E!=null&&E[G])&&Be()},[JSON.stringify(A)]);var Yr=t.useMemo(function(){var i=st(E,u,Ye,C);return nr(i,K?.(Ye))},[Ye,K,E,u,C]);t.useImperativeHandle(a,function(){return{nativeElement:ee.current,popupElement:be.current,forceAlign:Be}});var $r=t.useState(0),Er=$($r,2),Hr=Er[0],Or=Er[1],pr=t.useState(0),Br=$(pr,2),ea=Br[0],ra=Br[1],Fr=function(){if(ue&&me){var l=me.getBoundingClientRect();Or(l.width),ra(l.height)}},aa=function(){Fr(),Be()},ta=function(l){Ge(!1),vr(),P?.(l)},na=function(){return new Promise(function(l){Fr(),sr(function(){return l})})};ye(function(){er&&(vr(),er(),sr(null))},[er]);function ge(i,l,R,x){We[i]=function(L){var jr;x?.(L),ae(l,R);for(var sa=arguments.length,wa=new Array(sa>1?sa-1:0),Ar=1;Ar<sa;Ar++)wa[Ar-1]=arguments[Ar];(jr=X[i])===null||jr===void 0||jr.call.apply(jr,[X,L].concat(wa))}}(Ee||He)&&(We.onClick=function(i){var l;re.current&&He?ae(!1):!re.current&&Ee&&(Pe(i),ae(!0));for(var R=arguments.length,x=new Array(R>1?R-1:0),L=1;L<R;L++)x[L-1]=arguments[L];(l=X.onClick)===null||l===void 0||l.call.apply(l,[X,i].concat(x))});var dr=ft(V,He,me,B,W,c,Jr,ae),oa=rr.has("hover"),te=ve.has("hover"),ar,hr;oa&&(ge("onMouseEnter",!0,z,function(i){Pe(i)}),ge("onPointerEnter",!0,z,function(i){Pe(i)}),ar=function(l){(V||Je)&&B!==null&&B!==void 0&&B.contains(l.target)&&ae(!0,z)},C&&(We.onMouseMove=function(i){var l;(l=X.onMouseMove)===null||l===void 0||l.call(X,i)})),te&&(ge("onMouseLeave",!1,y),ge("onPointerLeave",!1,y),hr=function(){ae(!1,y)}),rr.has("focus")&&ge("onFocus",!0,T),ve.has("focus")&&ge("onBlur",!1,M),rr.has("contextMenu")&&(We.onContextMenu=function(i){var l;re.current&&ve.has("contextMenu")?ae(!1):(Pe(i),ae(!0)),i.preventDefault();for(var R=arguments.length,x=new Array(R>1?R-1:0),L=1;L<R;L++)x[L-1]=arguments[L];(l=X.onContextMenu)===null||l===void 0||l.call.apply(l,[X,i].concat(x))}),ze&&(We.className=nr(X.className,ze));var Se=t.useRef(!1);Se.current||(Se.current=j||V||Je);var Fe=F(F({},X),We),mr={},Vr=["onContextMenu","onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur"];Vr.forEach(function(i){O[i]&&(mr[i]=function(){for(var l,R=arguments.length,x=new Array(R),L=0;L<R;L++)x[L]=arguments[L];(l=Fe[i])===null||l===void 0||l.call.apply(l,[Fe].concat(x)),O[i].apply(O,x)})});var ia=t.cloneElement(pe,F(F({},Fe),mr)),ua={x:Xr,y:Wr},la=Re?F({},Re!==!0?Re:{}):null;return t.createElement(t.Fragment,null,t.createElement(ya,{disabled:!V,ref:le,onResize:aa},t.createElement(it,{getTriggerDOMNode:he},ia)),Se.current&&t.createElement(Ma.Provider,{value:_e},t.createElement(ot,{portal:e,ref:Te,prefixCls:u,popup:fe,className:nr(oe,Yr),style:ie,target:me,onMouseEnter:ar,onMouseLeave:hr,onPointerEnter:ar,zIndex:w,open:V,keepDom:Je,fresh:q,onClick:De,onPointerDownCapture:dr,mask:W,motion:Gr,maskMotion:Pr,onVisibleChanged:ta,onPrepare:na,forceRender:j,autoDestroy:U,getPopupContainer:J,align:Ye,arrow:la,arrowPos:ua,ready:Qe,offsetX:Lr,offsetY:Zr,offsetR:Ze,offsetB:Tr,onAlign:Be,stretch:ue,targetWidth:Hr/xr,targetHeight:ea/Xe})))});return n}const Ct=ht(xa),mt=qr.map(e=>`${e}-inverse`);function bt(e,n=!0){return n?[].concat(Ur(mt),Ur(qr)).includes(e):qr.includes(e)}export{ya as R,Ct as T,bt as a,wt as g,rt as i,yt as u};
