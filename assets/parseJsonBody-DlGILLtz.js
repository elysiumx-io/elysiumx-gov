import{c as p}from"./index-AWWvwHFC.js";const x=(e,t)=>{const o={};for(const s in t)y(o,e,t,s);return o},y=(e,t,o,s)=>{if(t!==null){let n=o[s];typeof n=="function"&&(n=[,n]);const[i=a,l=d,c=s]=n;(typeof i=="function"&&i(t[c])||typeof i!="function"&&i)&&(e[s]=l(t[c]));return}let[f,r]=o[s];if(typeof r=="function"){let n;const i=f===void 0&&(n=r())!=null,l=typeof f=="function"&&!!f(void 0)||typeof f!="function"&&!!f;i?e[s]=n:l&&(e[s]=r())}else{const n=f===void 0&&r!=null,i=typeof f=="function"&&!!f(r)||typeof f!="function"&&!!f;(n||i)&&(e[s]=r)}},a=e=>e!=null,d=e=>e,u=e=>{if(e==null)return{};if(Array.isArray(e))return e.filter(t=>t!=null).map(u);if(typeof e=="object"){const t={};for(const o of Object.keys(e))e[o]!=null&&(t[o]=u(e[o]));return t}return e},m=(e,t)=>p(e,t).then(o=>{if(o.length)try{return JSON.parse(o)}catch(s){throw s?.name==="SyntaxError"&&Object.defineProperty(s,"$responseBodyText",{value:o}),s}return{}}),O=async(e,t)=>{const o=await m(e,t);return o.message=o.message??o.Message,o},_=(e,t)=>{const o=(r,n)=>Object.keys(r).find(i=>i.toLowerCase()===n.toLowerCase()),s=r=>{let n=r;return typeof n=="number"&&(n=n.toString()),n.indexOf(",")>=0&&(n=n.split(",")[0]),n.indexOf(":")>=0&&(n=n.split(":")[0]),n.indexOf("#")>=0&&(n=n.split("#")[1]),n},f=o(e.headers,"x-amzn-errortype");if(f!==void 0)return s(e.headers[f]);if(t&&typeof t=="object"){const r=o(t,"code");if(r&&t[r]!==void 0)return s(t[r]);if(t.__type!==void 0)return s(t.__type)}};export{u as _,O as a,_ as l,m as p,x as t};
